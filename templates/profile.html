{% extends "base.html" %}

{% block content %}

<div class="user-info">
    {% comment %} {{ user.id }} {% endcomment %}
    {{ user.name }}<br>
    {% if user.bio %}
        <p>{{ user.bio }}</p>
    {% else %}
        <p>No bio available</p>
    {% endif %}
</div>


<div class="user-events">

    {% if user.events.exists %}
        <h2>Events paritcipated by {{user.name}}</h2>
        {% for event in user.events.all %}
            <p><a href="{% url 'event_page' pk=event.pk %}">{{event.title}}</a></p>
            
        {% endfor %}

    {% else %}
        <p>Not registered to any of the events</p>
        <a href="{% url 'home' %}">Explore Events</a>
    {% endif %}
</div>

<div class="user-sub">
    <h2>My Submissions</h2>
    {% if user.submission_set.exists %}
        <ul>
            {% for sub in user.submission_set.all %}
                <li>
                    <a href="{% url 'update_submission' pk=sub.id %}">{{ sub.event.title }}</a>
                    {% comment %} - {{ sub.details|default:"No details available" }} {% endcomment %}
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No submissions available</p>
    {% endif %}
</div>



{% endblock %}